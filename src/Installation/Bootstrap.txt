<?php

use Rougin\Slytherin\Application;

/**
 * Return a message if either the 'APP' constant is not defined
 * or if it is not a valid directory
 */

if (!defined('APP') || !is_dir(APP)) {
	header('HTTP/1.1 503 Service Unavailable.', TRUE, 503);

	exit('Your application folder path does not appear to be set correctly.');
}

/**
 * Load the list of configurations
 */

$components = require APP . '/components.php';
$config = require APP . '/config.php';
$injector = require APP . '/dependencies.php';

/**
 * Run the Slytherin Application
 */

$application = new Application($config, $components, $injector);
$application->run();
